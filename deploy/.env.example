# Environment variables for the avoided emissions web application.
# Copy this to .env and fill in actual values.
#
# In CI/CD, this file is generated automatically by the GitHub Actions
# workflow from repository secrets and variables — see deploy/README.md.

# -- Container images --------------------------------------------------------
# Set by GitHub Actions; override locally for development.
ECR_REGISTRY=
WEBAPP_IMAGE=avoided-emissions-webapp:latest
RANALYSIS_IMAGE=
R_ANALYSIS_IMAGE_TAG=latest

# -- Environment -------------------------------------------------------------
ENVIRONMENT=development
DEBUG=true

# -- App ---------------------------------------------------------------------
SECRET_KEY=change-me-to-a-random-string

# -- Database ----------------------------------------------------------------
POSTGRES_USER=ae_user
POSTGRES_PASSWORD=ae_password
POSTGRES_DB=avoided_emissions
# DATABASE_URL is auto-constructed from the POSTGRES_* vars above.
# Set it explicitly only if you need a non-standard connection string.
# DATABASE_URL=postgresql://ae_user:ae_password@postgres:5432/avoided_emissions

# -- AWS ---------------------------------------------------------------------
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=
# AWS credentials for local development.  On EC2/ECS these are provided by
# the instance role — leave blank in staging/production.
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
S3_BUCKET=
S3_PREFIX=avoided-emissions
AWS_BATCH_JOB_QUEUE=avoided-emissions-queue
AWS_BATCH_JOB_DEFINITION=avoided-emissions-analysis

# -- Google Cloud / GEE ------------------------------------------------------
GCS_BUCKET=
GCS_PREFIX=avoided-emissions/covariates
# Google Cloud project registered for Earth Engine access.
# Required for ee.Initialize() in newer versions of the EE Python API.
GOOGLE_PROJECT_ID=
# Optional: Earth Engine API endpoint (e.g. high-volume endpoint).
# Leave blank to use the default endpoint.
GEE_ENDPOINT=
# Service account JSON (base64 or inline) for Earth Engine access.
# Used by the webapp to trigger GEE covariate exports.  The R analysis
# container does NOT need this — it reads COGs from the public GCS bucket
# via GDAL /vsicurl/.
# In CI this is set from the EE_SERVICE_ACCOUNT_JSON secret.
EE_SERVICE_ACCOUNT_JSON=

# -- Celery (Redis) ----------------------------------------------------------
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# -- Rollbar error tracking --------------------------------------------------
ROLLBAR_ACCESS_TOKEN=
ROLLBAR_ENVIRONMENT=development

# -- Deployment info (set automatically by CI) --------------------------------
GIT_REVISION=
